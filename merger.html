<!DOCTYPE html>
<html> <head> <title>Merger</title>><style>
    .flex-container {
      display: flex;  flex-direction:row;
      background-color: red;
  }

.flex-container > div {  /*div children of the flex container*/
  background-color: #f1f1f1; 
  margin: 10px;  padding: 20px;  font-size: 30px;
}

/* Responsive layout */
@media (max-width: 600px) { 
	 .flex-container{
		 flex-direction:column;
		 background-color: green;
	  }
	}
</style></head>
<body>
	<h2>Bishal Adhikari builds a Merger</h2>
	<div class="flex-container" id="target">
		<div class="merger">row item 1</div>   
		<div class="merger">row item 2</div>  
		<div class="merger">row item 3</div>  
	</div>

	<p>Press the button to create a new element of type div and then add it to the container.</p>
	<input type="text" id="textInput" placeholder="Enter text">
	<button onclick="makeNewDiv()">Add end</button>
	<button onclick="remove()">Remove</button>
	<button onclick="addFront()">Add Front</button>
	<button onclick="swap()">Swap</button>

</body>
<script>
	function makeNewDiv(){
			/* make the div and its text */
			let element = document.createElement("div")
			element.innerHTML = document.getElementById("textInput").value;
			element.className = "merger"
			element.style.color = "red"
	
			/* add it to the container */
			let container = document.getElementById('target')
			container.appendChild(element)
			
		}

function remove() {
    let mergerItems = document.getElementsByClassName("merger");
    const lengthOfmergerItems = mergerItems.length;
    if (lengthOfmergerItems > 0) {
        mergerItems[Math.floor(lengthOfmergerItems / 2)].remove();
    }
}

function addFront() {
    let element = document.createElement("div");
    element.innerHTML = document.getElementById("textInput").value;
    element.className = "merger";
    element.style.color = "red";

    let parent = document.getElementById("target");
    let firstChild = parent.querySelector('.merger'); 
    if (firstChild) {
        parent.insertBefore(element, firstChild);
    } else {
        parent.appendChild(element); 
    }
}
function swap() {
        let mergerItemss = document.getElementsByClassName("merger");
        let mergerItemssLength = mergerItemss.length;
        let firstElement = mergerItemss[Math.round(Math.random() * (mergerItemssLength - 1))];
        let secondElement = mergerItemss[Math.round(Math.random() * (mergerItemssLength - 1))];

        let parentElement = firstElement.parentNode;

        const siblingA = firstElement.nextSibling === secondElement ? firstElement : firstElement.nextSibling;
        secondElement.parentNode.insertBefore(firstElement, secondElement);
        parentElement.insertBefore(secondElement, siblingA);
    }
</script>
</html>	